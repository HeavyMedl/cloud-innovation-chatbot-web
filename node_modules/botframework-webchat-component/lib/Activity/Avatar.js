"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.connectAvatar = exports.default = void 0;

var _classnames = _interopRequireDefault(require("classnames"));

var _react = _interopRequireDefault(require("react"));

var _connectToWebChat = _interopRequireDefault(require("../connectToWebChat"));

var _CroppedImage = _interopRequireDefault(require("../Utils/CroppedImage"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var connectAvatar = function connectAvatar() {
  for (var _len = arguments.length, selectors = new Array(_len), _key = 0; _key < _len; _key++) {
    selectors[_key] = arguments[_key];
  }

  return _connectToWebChat.default.apply(void 0, [function (_ref, _ref2) {
    var _ref$styleSet$options = _ref.styleSet.options,
        botAvatarImage = _ref$styleSet$options.botAvatarImage,
        botAvatarInitials = _ref$styleSet$options.botAvatarInitials,
        userAvatarImage = _ref$styleSet$options.userAvatarImage,
        userAvatarInitials = _ref$styleSet$options.userAvatarInitials;
    var fromUser = _ref2.fromUser;
    return {
      avatarImage: fromUser ? userAvatarImage : botAvatarImage,
      avatarInitials: fromUser ? userAvatarInitials : botAvatarInitials
    };
  }].concat(selectors));
}; // TODO: [P2] Consider memoizing "style={ backgroundImage }" in our upstreamers
//       We have 2 different upstreamers <CarouselFilmStrip> and <StackedLayout>


exports.connectAvatar = connectAvatar;

var Avatar = function Avatar(_ref3) {
  var ariaHidden = _ref3['aria-hidden'],
      avatarImage = _ref3.avatarImage,
      avatarInitials = _ref3.avatarInitials,
      className = _ref3.className,
      fromUser = _ref3.fromUser,
      styleSet = _ref3.styleSet;
  return !!(avatarImage || avatarInitials) && _react.default.createElement("div", {
    "aria-hidden": ariaHidden,
    className: (0, _classnames.default)(styleSet.avatar + '', {
      'from-user': fromUser
    }, (className || '') + '')
  }, avatarInitials, !!avatarImage && _react.default.createElement(_CroppedImage.default, {
    alt: "",
    className: "image",
    height: "100%",
    src: avatarImage,
    width: "100%"
  }));
};

var _default = connectAvatar(function (_ref4) {
  var styleSet = _ref4.styleSet;
  return {
    styleSet: styleSet
  };
})(Avatar);

exports.default = _default;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9BY3Rpdml0eS9BdmF0YXIuanMiXSwibmFtZXMiOlsiY29ubmVjdEF2YXRhciIsInNlbGVjdG9ycyIsImNvbm5lY3RUb1dlYkNoYXQiLCJzdHlsZVNldCIsIm9wdGlvbnMiLCJib3RBdmF0YXJJbWFnZSIsImJvdEF2YXRhckluaXRpYWxzIiwidXNlckF2YXRhckltYWdlIiwidXNlckF2YXRhckluaXRpYWxzIiwiZnJvbVVzZXIiLCJhdmF0YXJJbWFnZSIsImF2YXRhckluaXRpYWxzIiwiQXZhdGFyIiwiYXJpYUhpZGRlbiIsImNsYXNzTmFtZSIsImF2YXRhciJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBOztBQUNBOztBQUVBOztBQUNBOzs7O0FBRUEsSUFBTUEsYUFBYSxHQUFHLFNBQWhCQSxhQUFnQjtBQUFBLG9DQUFJQyxTQUFKO0FBQUlBLElBQUFBLFNBQUo7QUFBQTs7QUFBQSxTQUFrQkMseUNBQ3RDO0FBQUEscUNBQ0VDLFFBREYsQ0FFSUMsT0FGSjtBQUFBLFFBR01DLGNBSE4seUJBR01BLGNBSE47QUFBQSxRQUlNQyxpQkFKTix5QkFJTUEsaUJBSk47QUFBQSxRQUtNQyxlQUxOLHlCQUtNQSxlQUxOO0FBQUEsUUFNTUMsa0JBTk4seUJBTU1BLGtCQU5OO0FBQUEsUUFTS0MsUUFUTCxTQVNLQSxRQVRMO0FBQUEsV0FTcUI7QUFDbkJDLE1BQUFBLFdBQVcsRUFBRUQsUUFBUSxHQUFHRixlQUFILEdBQXFCRixjQUR2QjtBQUVuQk0sTUFBQUEsY0FBYyxFQUFFRixRQUFRLEdBQUdELGtCQUFILEdBQXdCRjtBQUY3QixLQVRyQjtBQUFBLEdBRHNDLFNBY25DTCxTQWRtQyxFQUFsQjtBQUFBLENBQXRCLEMsQ0FpQkE7QUFDQTs7Ozs7QUFFQSxJQUFNVyxNQUFNLEdBQUcsU0FBVEEsTUFBUztBQUFBLE1BQ0VDLFVBREYsU0FDYixhQURhO0FBQUEsTUFFYkgsV0FGYSxTQUViQSxXQUZhO0FBQUEsTUFHYkMsY0FIYSxTQUdiQSxjQUhhO0FBQUEsTUFJYkcsU0FKYSxTQUliQSxTQUphO0FBQUEsTUFLYkwsUUFMYSxTQUtiQSxRQUxhO0FBQUEsTUFNYk4sUUFOYSxTQU1iQSxRQU5hO0FBQUEsU0FRYixDQUFDLEVBQUVPLFdBQVcsSUFBSUMsY0FBakIsQ0FBRCxJQUNFO0FBQ0UsbUJBQWNFLFVBRGhCO0FBRUUsSUFBQSxTQUFTLEVBQUcseUJBQ1ZWLFFBQVEsQ0FBQ1ksTUFBVCxHQUFrQixFQURSLEVBRVY7QUFBRSxtQkFBYU47QUFBZixLQUZVLEVBR1YsQ0FBQ0ssU0FBUyxJQUFJLEVBQWQsSUFBb0IsRUFIVjtBQUZkLEtBUUlILGNBUkosRUFTSSxDQUFDLENBQUNELFdBQUYsSUFDQSw2QkFBQyxxQkFBRDtBQUNFLElBQUEsR0FBRyxFQUFDLEVBRE47QUFFRSxJQUFBLFNBQVMsRUFBQyxPQUZaO0FBR0UsSUFBQSxNQUFNLEVBQUMsTUFIVDtBQUlFLElBQUEsR0FBRyxFQUFHQSxXQUpSO0FBS0UsSUFBQSxLQUFLLEVBQUM7QUFMUixJQVZKLENBVFc7QUFBQSxDQUFmOztlQTZCZVYsYUFBYSxDQUMxQjtBQUFBLE1BQUdHLFFBQUgsU0FBR0EsUUFBSDtBQUFBLFNBQW1CO0FBQUVBLElBQUFBLFFBQVEsRUFBUkE7QUFBRixHQUFuQjtBQUFBLENBRDBCLENBQWIsQ0FFYlMsTUFGYSxDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGNsYXNzTmFtZXMgZnJvbSAnY2xhc3NuYW1lcyc7XG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuXG5pbXBvcnQgY29ubmVjdFRvV2ViQ2hhdCBmcm9tICcuLi9jb25uZWN0VG9XZWJDaGF0JztcbmltcG9ydCBDcm9wcGVkSW1hZ2UgZnJvbSAnLi4vVXRpbHMvQ3JvcHBlZEltYWdlJztcblxuY29uc3QgY29ubmVjdEF2YXRhciA9ICguLi5zZWxlY3RvcnMpID0+IGNvbm5lY3RUb1dlYkNoYXQoXG4gICh7XG4gICAgc3R5bGVTZXQ6IHtcbiAgICAgIG9wdGlvbnM6IHtcbiAgICAgICAgYm90QXZhdGFySW1hZ2UsXG4gICAgICAgIGJvdEF2YXRhckluaXRpYWxzLFxuICAgICAgICB1c2VyQXZhdGFySW1hZ2UsXG4gICAgICAgIHVzZXJBdmF0YXJJbml0aWFsc1xuICAgICAgfVxuICAgIH1cbiAgfSwgeyBmcm9tVXNlciB9KSA9PiAoe1xuICAgIGF2YXRhckltYWdlOiBmcm9tVXNlciA/IHVzZXJBdmF0YXJJbWFnZSA6IGJvdEF2YXRhckltYWdlLFxuICAgIGF2YXRhckluaXRpYWxzOiBmcm9tVXNlciA/IHVzZXJBdmF0YXJJbml0aWFscyA6IGJvdEF2YXRhckluaXRpYWxzXG4gIH0pLFxuICAuLi5zZWxlY3RvcnNcbik7XG5cbi8vIFRPRE86IFtQMl0gQ29uc2lkZXIgbWVtb2l6aW5nIFwic3R5bGU9eyBiYWNrZ3JvdW5kSW1hZ2UgfVwiIGluIG91ciB1cHN0cmVhbWVyc1xuLy8gICAgICAgV2UgaGF2ZSAyIGRpZmZlcmVudCB1cHN0cmVhbWVycyA8Q2Fyb3VzZWxGaWxtU3RyaXA+IGFuZCA8U3RhY2tlZExheW91dD5cblxuY29uc3QgQXZhdGFyID0gKHtcbiAgJ2FyaWEtaGlkZGVuJzogYXJpYUhpZGRlbixcbiAgYXZhdGFySW1hZ2UsXG4gIGF2YXRhckluaXRpYWxzLFxuICBjbGFzc05hbWUsXG4gIGZyb21Vc2VyLFxuICBzdHlsZVNldFxufSkgPT5cbiAgISEoYXZhdGFySW1hZ2UgfHwgYXZhdGFySW5pdGlhbHMpICYmXG4gICAgPGRpdlxuICAgICAgYXJpYS1oaWRkZW49eyBhcmlhSGlkZGVuIH1cbiAgICAgIGNsYXNzTmFtZT17IGNsYXNzTmFtZXMoXG4gICAgICAgIHN0eWxlU2V0LmF2YXRhciArICcnLFxuICAgICAgICB7ICdmcm9tLXVzZXInOiBmcm9tVXNlciB9LFxuICAgICAgICAoY2xhc3NOYW1lIHx8ICcnKSArICcnXG4gICAgICApIH1cbiAgICA+XG4gICAgICB7IGF2YXRhckluaXRpYWxzIH1cbiAgICAgIHsgISFhdmF0YXJJbWFnZSAmJlxuICAgICAgICA8Q3JvcHBlZEltYWdlXG4gICAgICAgICAgYWx0PVwiXCJcbiAgICAgICAgICBjbGFzc05hbWU9XCJpbWFnZVwiXG4gICAgICAgICAgaGVpZ2h0PVwiMTAwJVwiXG4gICAgICAgICAgc3JjPXsgYXZhdGFySW1hZ2UgfVxuICAgICAgICAgIHdpZHRoPVwiMTAwJVwiXG4gICAgICAgIC8+XG4gICAgICB9XG4gICAgPC9kaXY+XG5cbmV4cG9ydCBkZWZhdWx0IGNvbm5lY3RBdmF0YXIoXG4gICh7IHN0eWxlU2V0IH0pID0+ICh7IHN0eWxlU2V0IH0pXG4pKEF2YXRhcilcblxuZXhwb3J0IHsgY29ubmVjdEF2YXRhciB9XG4iXX0=