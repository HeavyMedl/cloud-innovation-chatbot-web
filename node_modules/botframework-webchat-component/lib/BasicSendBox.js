"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _glamor = require("glamor");

var _classnames = _interopRequireDefault(require("classnames"));

var _react = _interopRequireDefault(require("react"));

var _ConnectivityStatus = _interopRequireDefault(require("./SendBox/ConnectivityStatus"));

var _connectToWebChat = _interopRequireDefault(require("./connectToWebChat"));

var _DictationInterims = _interopRequireDefault(require("./SendBox/DictationInterims"));

var _MicrophoneButton = _interopRequireDefault(require("./SendBox/MicrophoneButton"));

var _SendButton = _interopRequireDefault(require("./SendBox/SendButton"));

var _SuggestedActions = _interopRequireDefault(require("./SendBox/SuggestedActions"));

var _TextBox = _interopRequireDefault(require("./SendBox/TextBox"));

var _UploadButton = _interopRequireDefault(require("./SendBox/UploadButton"));

var _botframeworkWebchatCore = require("botframework-webchat-core");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var _Constants$DictateSta = _botframeworkWebchatCore.Constants.DictateState,
    DICTATING = _Constants$DictateSta.DICTATING,
    STARTING = _Constants$DictateSta.STARTING;
var ROOT_CSS = (0, _glamor.css)({
  '& > .main': {
    display: 'flex'
  }
});
var DICTATION_INTERIMS_CSS = (0, _glamor.css)({
  flex: 10000
});
var MICROPHONE_BUTTON_CSS = (0, _glamor.css)({
  flex: 1
});
var TEXT_BOX_CSS = (0, _glamor.css)({
  flex: 10000
});

var BasicSendBox = function BasicSendBox(_ref) {
  var className = _ref.className,
      dictationStarted = _ref.dictationStarted,
      styleSet = _ref.styleSet,
      webSpeechPonyfill = _ref.webSpeechPonyfill;
  return _react.default.createElement("div", {
    className: (0, _classnames.default)(styleSet.sendBox + '', ROOT_CSS + '', (className || '') + ''),
    role: "form"
  }, _react.default.createElement(_ConnectivityStatus.default, null), _react.default.createElement(_SuggestedActions.default, null), _react.default.createElement("div", {
    className: "main"
  }, !styleSet.options.hideUploadButton && _react.default.createElement(_UploadButton.default, null), dictationStarted ? _react.default.createElement(_DictationInterims.default, {
    className: DICTATION_INTERIMS_CSS
  }) : _react.default.createElement(_TextBox.default, {
    className: TEXT_BOX_CSS
  }), _react.default.createElement("div", null, (webSpeechPonyfill || {}).SpeechRecognition ? _react.default.createElement(_MicrophoneButton.default, {
    className: MICROPHONE_BUTTON_CSS
  }) : _react.default.createElement(_SendButton.default, null))));
};

var _default = (0, _connectToWebChat.default)(function (_ref2) {
  var dictateState = _ref2.dictateState,
      styleSet = _ref2.styleSet,
      webSpeechPonyfill = _ref2.webSpeechPonyfill;
  return {
    dictationStarted: dictateState === STARTING || dictateState === DICTATING,
    styleSet: styleSet,
    webSpeechPonyfill: webSpeechPonyfill
  };
})(BasicSendBox);

exports.default = _default;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uL3NyYy9CYXNpY1NlbmRCb3guanMiXSwibmFtZXMiOlsiQ29uc3RhbnRzIiwiRGljdGF0ZVN0YXRlIiwiRElDVEFUSU5HIiwiU1RBUlRJTkciLCJST09UX0NTUyIsImRpc3BsYXkiLCJESUNUQVRJT05fSU5URVJJTVNfQ1NTIiwiZmxleCIsIk1JQ1JPUEhPTkVfQlVUVE9OX0NTUyIsIlRFWFRfQk9YX0NTUyIsIkJhc2ljU2VuZEJveCIsImNsYXNzTmFtZSIsImRpY3RhdGlvblN0YXJ0ZWQiLCJzdHlsZVNldCIsIndlYlNwZWVjaFBvbnlmaWxsIiwic2VuZEJveCIsIm9wdGlvbnMiLCJoaWRlVXBsb2FkQnV0dG9uIiwiU3BlZWNoUmVjb2duaXRpb24iLCJkaWN0YXRlU3RhdGUiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTs7QUFDQTs7QUFDQTs7QUFFQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFFQTs7Ozs0QkFPSUEsa0MsQ0FKRkMsWTtJQUNFQyxTLHlCQUFBQSxTO0lBQ0FDLFEseUJBQUFBLFE7QUFJSixJQUFNQyxRQUFRLEdBQUcsaUJBQUk7QUFDbkIsZUFBYTtBQUNYQyxJQUFBQSxPQUFPLEVBQUU7QUFERTtBQURNLENBQUosQ0FBakI7QUFNQSxJQUFNQyxzQkFBc0IsR0FBRyxpQkFBSTtBQUFFQyxFQUFBQSxJQUFJLEVBQUU7QUFBUixDQUFKLENBQS9CO0FBQ0EsSUFBTUMscUJBQXFCLEdBQUcsaUJBQUk7QUFBRUQsRUFBQUEsSUFBSSxFQUFFO0FBQVIsQ0FBSixDQUE5QjtBQUNBLElBQU1FLFlBQVksR0FBRyxpQkFBSTtBQUFFRixFQUFBQSxJQUFJLEVBQUU7QUFBUixDQUFKLENBQXJCOztBQUVBLElBQU1HLFlBQVksR0FBRyxTQUFmQSxZQUFlO0FBQUEsTUFDbkJDLFNBRG1CLFFBQ25CQSxTQURtQjtBQUFBLE1BRW5CQyxnQkFGbUIsUUFFbkJBLGdCQUZtQjtBQUFBLE1BR25CQyxRQUhtQixRQUduQkEsUUFIbUI7QUFBQSxNQUluQkMsaUJBSm1CLFFBSW5CQSxpQkFKbUI7QUFBQSxTQU1uQjtBQUNFLElBQUEsU0FBUyxFQUFHLHlCQUNWRCxRQUFRLENBQUNFLE9BQVQsR0FBbUIsRUFEVCxFQUVWWCxRQUFRLEdBQUcsRUFGRCxFQUdWLENBQUNPLFNBQVMsSUFBSSxFQUFkLElBQW9CLEVBSFYsQ0FEZDtBQU1FLElBQUEsSUFBSSxFQUFDO0FBTlAsS0FRRSw2QkFBQywyQkFBRCxPQVJGLEVBU0UsNkJBQUMseUJBQUQsT0FURixFQVVFO0FBQUssSUFBQSxTQUFTLEVBQUM7QUFBZixLQUNJLENBQUNFLFFBQVEsQ0FBQ0csT0FBVCxDQUFpQkMsZ0JBQWxCLElBQ0EsNkJBQUMscUJBQUQsT0FGSixFQUlJTCxnQkFBZ0IsR0FDZCw2QkFBQywwQkFBRDtBQUFtQixJQUFBLFNBQVMsRUFBR047QUFBL0IsSUFEYyxHQUdkLDZCQUFDLGdCQUFEO0FBQVMsSUFBQSxTQUFTLEVBQUdHO0FBQXJCLElBUE4sRUFTRSwwQ0FDSSxDQUFDSyxpQkFBaUIsSUFBSSxFQUF0QixFQUEwQkksaUJBQTFCLEdBQ0UsNkJBQUMseUJBQUQ7QUFBa0IsSUFBQSxTQUFTLEVBQUdWO0FBQTlCLElBREYsR0FHRSw2QkFBQyxtQkFBRCxPQUpOLENBVEYsQ0FWRixDQU5tQjtBQUFBLENBQXJCOztlQW1DZSwrQkFDYjtBQUFBLE1BQ0VXLFlBREYsU0FDRUEsWUFERjtBQUFBLE1BRUVOLFFBRkYsU0FFRUEsUUFGRjtBQUFBLE1BR0VDLGlCQUhGLFNBR0VBLGlCQUhGO0FBQUEsU0FJTztBQUNMRixJQUFBQSxnQkFBZ0IsRUFBRU8sWUFBWSxLQUFLaEIsUUFBakIsSUFBNkJnQixZQUFZLEtBQUtqQixTQUQzRDtBQUVMVyxJQUFBQSxRQUFRLEVBQVJBLFFBRks7QUFHTEMsSUFBQUEsaUJBQWlCLEVBQWpCQTtBQUhLLEdBSlA7QUFBQSxDQURhLEVBVWJKLFlBVmEsQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGNzcyB9IGZyb20gJ2dsYW1vcic7XG5pbXBvcnQgY2xhc3NOYW1lcyBmcm9tICdjbGFzc25hbWVzJztcbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5cbmltcG9ydCBDb25uZWN0aXZpdHlTdGF0dXMgZnJvbSAnLi9TZW5kQm94L0Nvbm5lY3Rpdml0eVN0YXR1cyc7XG5pbXBvcnQgY29ubmVjdFRvV2ViQ2hhdCBmcm9tICcuL2Nvbm5lY3RUb1dlYkNoYXQnO1xuaW1wb3J0IERpY3RhdGlvbkludGVyaW1zIGZyb20gJy4vU2VuZEJveC9EaWN0YXRpb25JbnRlcmltcyc7XG5pbXBvcnQgTWljcm9waG9uZUJ1dHRvbiBmcm9tICcuL1NlbmRCb3gvTWljcm9waG9uZUJ1dHRvbic7XG5pbXBvcnQgU2VuZEJ1dHRvbiBmcm9tICcuL1NlbmRCb3gvU2VuZEJ1dHRvbic7XG5pbXBvcnQgU3VnZ2VzdGVkQWN0aW9ucyBmcm9tICcuL1NlbmRCb3gvU3VnZ2VzdGVkQWN0aW9ucyc7XG5pbXBvcnQgVGV4dEJveCBmcm9tICcuL1NlbmRCb3gvVGV4dEJveCc7XG5pbXBvcnQgVXBsb2FkQnV0dG9uIGZyb20gJy4vU2VuZEJveC9VcGxvYWRCdXR0b24nO1xuXG5pbXBvcnQgeyBDb25zdGFudHMgfSBmcm9tICdib3RmcmFtZXdvcmstd2ViY2hhdC1jb3JlJztcblxuY29uc3Qge1xuICBEaWN0YXRlU3RhdGU6IHtcbiAgICBESUNUQVRJTkcsXG4gICAgU1RBUlRJTkdcbiAgfVxufSA9IENvbnN0YW50cztcblxuY29uc3QgUk9PVF9DU1MgPSBjc3Moe1xuICAnJiA+IC5tYWluJzoge1xuICAgIGRpc3BsYXk6ICdmbGV4J1xuICB9XG59KTtcblxuY29uc3QgRElDVEFUSU9OX0lOVEVSSU1TX0NTUyA9IGNzcyh7IGZsZXg6IDEwMDAwIH0pO1xuY29uc3QgTUlDUk9QSE9ORV9CVVRUT05fQ1NTID0gY3NzKHsgZmxleDogMSB9KTtcbmNvbnN0IFRFWFRfQk9YX0NTUyA9IGNzcyh7IGZsZXg6IDEwMDAwIH0pO1xuXG5jb25zdCBCYXNpY1NlbmRCb3ggPSAoe1xuICBjbGFzc05hbWUsXG4gIGRpY3RhdGlvblN0YXJ0ZWQsXG4gIHN0eWxlU2V0LFxuICB3ZWJTcGVlY2hQb255ZmlsbFxufSkgPT5cbiAgPGRpdlxuICAgIGNsYXNzTmFtZT17IGNsYXNzTmFtZXMoXG4gICAgICBzdHlsZVNldC5zZW5kQm94ICsgJycsXG4gICAgICBST09UX0NTUyArICcnLFxuICAgICAgKGNsYXNzTmFtZSB8fCAnJykgKyAnJ1xuICAgICkgfVxuICAgIHJvbGU9XCJmb3JtXCJcbiAgPlxuICAgIDxDb25uZWN0aXZpdHlTdGF0dXMgLz5cbiAgICA8U3VnZ2VzdGVkQWN0aW9ucyAvPlxuICAgIDxkaXYgY2xhc3NOYW1lPVwibWFpblwiPlxuICAgICAgeyAhc3R5bGVTZXQub3B0aW9ucy5oaWRlVXBsb2FkQnV0dG9uICYmXG4gICAgICAgIDxVcGxvYWRCdXR0b24gLz5cbiAgICAgIH1cbiAgICAgIHsgZGljdGF0aW9uU3RhcnRlZCA/XG4gICAgICAgICAgPERpY3RhdGlvbkludGVyaW1zIGNsYXNzTmFtZT17IERJQ1RBVElPTl9JTlRFUklNU19DU1MgfSAvPlxuICAgICAgICA6XG4gICAgICAgICAgPFRleHRCb3ggY2xhc3NOYW1lPXsgVEVYVF9CT1hfQ1NTIH0gLz5cbiAgICAgIH1cbiAgICAgIDxkaXY+XG4gICAgICAgIHsgKHdlYlNwZWVjaFBvbnlmaWxsIHx8IHt9KS5TcGVlY2hSZWNvZ25pdGlvbiA/XG4gICAgICAgICAgICA8TWljcm9waG9uZUJ1dHRvbiBjbGFzc05hbWU9eyBNSUNST1BIT05FX0JVVFRPTl9DU1MgfSAvPlxuICAgICAgICAgIDpcbiAgICAgICAgICAgIDxTZW5kQnV0dG9uIC8+XG4gICAgICAgIH1cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuICA8L2Rpdj5cblxuZXhwb3J0IGRlZmF1bHQgY29ubmVjdFRvV2ViQ2hhdChcbiAgKHtcbiAgICBkaWN0YXRlU3RhdGUsXG4gICAgc3R5bGVTZXQsXG4gICAgd2ViU3BlZWNoUG9ueWZpbGxcbiAgfSkgPT4gKHtcbiAgICBkaWN0YXRpb25TdGFydGVkOiBkaWN0YXRlU3RhdGUgPT09IFNUQVJUSU5HIHx8IGRpY3RhdGVTdGF0ZSA9PT0gRElDVEFUSU5HLFxuICAgIHN0eWxlU2V0LFxuICAgIHdlYlNwZWVjaFBvbnlmaWxsXG4gIH0pXG4pKEJhc2ljU2VuZEJveClcbiJdfQ==