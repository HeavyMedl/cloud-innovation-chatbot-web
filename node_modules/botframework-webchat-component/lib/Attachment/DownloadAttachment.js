"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _bytes = require("bytes");

var _react = _interopRequireDefault(require("react"));

var _connectToWebChat = _interopRequireDefault(require("../connectToWebChat"));

var _DownloadIcon = _interopRequireDefault(require("./Assets/DownloadIcon"));

var _Localize = require("../Localization/Localize");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var _default = (0, _connectToWebChat.default)(function (_ref) {
  var language = _ref.language,
      styleSet = _ref.styleSet;
  return {
    language: language,
    styleSet: styleSet
  };
})(function (_ref2) {
  var _ref2$activity = _ref2.activity,
      _ref2$activity$attach = _ref2$activity.attachments,
      attachments = _ref2$activity$attach === void 0 ? [] : _ref2$activity$attach,
      _ref2$activity$channe = _ref2$activity.channelData;
  _ref2$activity$channe = _ref2$activity$channe === void 0 ? {} : _ref2$activity$channe;
  var _ref2$activity$channe2 = _ref2$activity$channe.attachmentSizes,
      attachmentSizes = _ref2$activity$channe2 === void 0 ? [] : _ref2$activity$channe2,
      attachment = _ref2.attachment,
      language = _ref2.language,
      styleSet = _ref2.styleSet;
  var attachmentIndex = attachments.indexOf(attachment);
  var label = (0, _Localize.localize)('Download file', language);
  var size = attachmentSizes[attachmentIndex];
  return _react.default.createElement("div", {
    className: styleSet.downloadAttachment
  }, _react.default.createElement("a", {
    href: attachment.contentUrl,
    target: "_blank"
  }, _react.default.createElement("div", {
    className: "details"
  }, _react.default.createElement("div", {
    className: "name"
  }, attachment.name), typeof size === 'number' && _react.default.createElement("div", {
    className: "size"
  }, (0, _bytes.format)(size))), _react.default.createElement(_DownloadIcon.default, {
    className: "icon",
    label: label,
    size: 1.5
  })));
});

exports.default = _default;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9BdHRhY2htZW50L0Rvd25sb2FkQXR0YWNobWVudC5qcyJdLCJuYW1lcyI6WyJsYW5ndWFnZSIsInN0eWxlU2V0IiwiYWN0aXZpdHkiLCJhdHRhY2htZW50cyIsImNoYW5uZWxEYXRhIiwiYXR0YWNobWVudFNpemVzIiwiYXR0YWNobWVudCIsImF0dGFjaG1lbnRJbmRleCIsImluZGV4T2YiLCJsYWJlbCIsInNpemUiLCJkb3dubG9hZEF0dGFjaG1lbnQiLCJjb250ZW50VXJsIiwibmFtZSJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBOztBQUNBOztBQUVBOztBQUNBOztBQUNBOzs7O2VBRWUsK0JBQ2I7QUFBQSxNQUFHQSxRQUFILFFBQUdBLFFBQUg7QUFBQSxNQUFhQyxRQUFiLFFBQWFBLFFBQWI7QUFBQSxTQUE2QjtBQUFFRCxJQUFBQSxRQUFRLEVBQVJBLFFBQUY7QUFBWUMsSUFBQUEsUUFBUSxFQUFSQTtBQUFaLEdBQTdCO0FBQUEsQ0FEYSxFQUdiLGlCQUtNO0FBQUEsNkJBSkpDLFFBSUk7QUFBQSw2Q0FKUUMsV0FJUjtBQUFBLE1BSlFBLFdBSVIsc0NBSnNCLEVBSXRCO0FBQUEsNkNBSjBCQyxXQUkxQjtBQUFBLDZEQUprRSxFQUlsRTtBQUFBLHFEQUp5Q0MsZUFJekM7QUFBQSxNQUp5Q0EsZUFJekMsdUNBSjJELEVBSTNEO0FBQUEsTUFISkMsVUFHSSxTQUhKQSxVQUdJO0FBQUEsTUFGSk4sUUFFSSxTQUZKQSxRQUVJO0FBQUEsTUFESkMsUUFDSSxTQURKQSxRQUNJO0FBQ0osTUFBTU0sZUFBZSxHQUFHSixXQUFXLENBQUNLLE9BQVosQ0FBb0JGLFVBQXBCLENBQXhCO0FBQ0EsTUFBTUcsS0FBSyxHQUFHLHdCQUFTLGVBQVQsRUFBMEJULFFBQTFCLENBQWQ7QUFDQSxNQUFNVSxJQUFJLEdBQUdMLGVBQWUsQ0FBQ0UsZUFBRCxDQUE1QjtBQUVBLFNBQ0U7QUFBSyxJQUFBLFNBQVMsRUFBR04sUUFBUSxDQUFDVTtBQUExQixLQUNFO0FBQ0UsSUFBQSxJQUFJLEVBQUdMLFVBQVUsQ0FBQ00sVUFEcEI7QUFFRSxJQUFBLE1BQU0sRUFBQztBQUZULEtBSUU7QUFBSyxJQUFBLFNBQVMsRUFBQztBQUFmLEtBQ0U7QUFBSyxJQUFBLFNBQVMsRUFBQztBQUFmLEtBQXdCTixVQUFVLENBQUNPLElBQW5DLENBREYsRUFHSSxPQUFPSCxJQUFQLEtBQWdCLFFBQWhCLElBQ0U7QUFBSyxJQUFBLFNBQVMsRUFBQztBQUFmLEtBQXdCLG1CQUFPQSxJQUFQLENBQXhCLENBSk4sQ0FKRixFQVdFLDZCQUFDLHFCQUFEO0FBQWMsSUFBQSxTQUFTLEVBQUMsTUFBeEI7QUFBK0IsSUFBQSxLQUFLLEVBQUdELEtBQXZDO0FBQStDLElBQUEsSUFBSSxFQUFHO0FBQXRELElBWEYsQ0FERixDQURGO0FBaUJELENBOUJZLEMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBmb3JtYXQgfSBmcm9tICdieXRlcyc7XG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuXG5pbXBvcnQgY29ubmVjdFRvV2ViQ2hhdCBmcm9tICcuLi9jb25uZWN0VG9XZWJDaGF0JztcbmltcG9ydCBEb3dubG9hZEljb24gZnJvbSAnLi9Bc3NldHMvRG93bmxvYWRJY29uJztcbmltcG9ydCB7IGxvY2FsaXplIH0gZnJvbSAnLi4vTG9jYWxpemF0aW9uL0xvY2FsaXplJztcblxuZXhwb3J0IGRlZmF1bHQgY29ubmVjdFRvV2ViQ2hhdChcbiAgKHsgbGFuZ3VhZ2UsIHN0eWxlU2V0IH0pID0+ICh7IGxhbmd1YWdlLCBzdHlsZVNldCB9KVxuKShcbiAgKHtcbiAgICBhY3Rpdml0eTogeyBhdHRhY2htZW50cyA9IFtdLCBjaGFubmVsRGF0YTogeyBhdHRhY2htZW50U2l6ZXMgPSBbXSB9ID0ge30gfSxcbiAgICBhdHRhY2htZW50LFxuICAgIGxhbmd1YWdlLFxuICAgIHN0eWxlU2V0XG4gIH0pID0+IHtcbiAgICBjb25zdCBhdHRhY2htZW50SW5kZXggPSBhdHRhY2htZW50cy5pbmRleE9mKGF0dGFjaG1lbnQpO1xuICAgIGNvbnN0IGxhYmVsID0gbG9jYWxpemUoJ0Rvd25sb2FkIGZpbGUnLCBsYW5ndWFnZSk7XG4gICAgY29uc3Qgc2l6ZSA9IGF0dGFjaG1lbnRTaXplc1thdHRhY2htZW50SW5kZXhdO1xuXG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPXsgc3R5bGVTZXQuZG93bmxvYWRBdHRhY2htZW50IH0+XG4gICAgICAgIDxhXG4gICAgICAgICAgaHJlZj17IGF0dGFjaG1lbnQuY29udGVudFVybCB9XG4gICAgICAgICAgdGFyZ2V0PVwiX2JsYW5rXCJcbiAgICAgICAgPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZGV0YWlsc1wiPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJuYW1lXCI+eyBhdHRhY2htZW50Lm5hbWUgfTwvZGl2PlxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICB0eXBlb2Ygc2l6ZSA9PT0gJ251bWJlcicgJiZcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInNpemVcIj57IGZvcm1hdChzaXplKSB9PC9kaXY+XG4gICAgICAgICAgICB9XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPERvd25sb2FkSWNvbiBjbGFzc05hbWU9XCJpY29uXCIgbGFiZWw9eyBsYWJlbCB9IHNpemU9eyAxLjUgfSAvPlxuICAgICAgICA8L2E+XG4gICAgICA8L2Rpdj5cbiAgICApO1xuICB9XG4pXG4iXX0=