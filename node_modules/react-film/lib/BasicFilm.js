"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _glamor = require("glamor");

var _classnames = _interopRequireDefault(require("classnames"));

var _react = _interopRequireDefault(require("react"));

var _AutoCenter = _interopRequireDefault(require("./AutoCenter"));

var _Composer = _interopRequireDefault(require("./Composer"));

var _Context = _interopRequireDefault(require("./Context"));

var _createBasicStyleSet = _interopRequireDefault(require("./createBasicStyleSet"));

var _Dots = _interopRequireDefault(require("./Dots"));

var _FilmStrip = _interopRequireDefault(require("./FilmStrip"));

var _Flipper = _interopRequireDefault(require("./Flipper"));

var _memoize = _interopRequireDefault(require("./memoize"));

var _ScrollBar = _interopRequireDefault(require("./ScrollBar"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }

function _typeof(obj) { if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; var ownKeys = Object.keys(source); if (typeof Object.getOwnPropertySymbols === 'function') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { _defineProperty(target, key, source[key]); }); } return target; }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

var CAROUSEL_CSS = (0, _glamor.css)({
  overflow: 'hidden',
  position: 'relative'
});

var BasicFilm =
/*#__PURE__*/
function (_React$Component) {
  _inherits(BasicFilm, _React$Component);

  function BasicFilm(props) {
    var _this;

    _classCallCheck(this, BasicFilm);

    _this = _possibleConstructorReturn(this, _getPrototypeOf(BasicFilm).call(this, props));
    _this.createHeightStyle = (0, _memoize.default)(function (height) {
      return {
        height: height
      };
    });
    _this.createBasicStyleSet = (0, _memoize.default)(function (_ref) {
      var autoHide = _ref.autoHide;
      return (0, _createBasicStyleSet.default)({
        autoHide: autoHide
      });
    });
    return _this;
  }

  _createClass(BasicFilm, [{
    key: "render",
    value: function render() {
      var props = this.props;

      var _this$createBasicStyl = _objectSpread({}, this.createBasicStyleSet(props), props.styleSet || {}),
          carousel = _this$createBasicStyl.carousel,
          dotsBox = _this$createBasicStyl.dotsBox,
          dotsItem = _this$createBasicStyl.dotsItem,
          leftFlipper = _this$createBasicStyl.leftFlipper,
          rightFlipper = _this$createBasicStyl.rightFlipper,
          scrollBarBox = _this$createBasicStyl.scrollBarBox,
          scrollBarHandler = _this$createBasicStyl.scrollBarHandler;

      var _props$leftFlipperTex = props.leftFlipperText,
          leftFlipperText = _props$leftFlipperTex === void 0 ? '<' : _props$leftFlipperTex,
          numItems = props.numItems,
          _props$rightFlipperTe = props.rightFlipperText,
          rightFlipperText = _props$rightFlipperTe === void 0 ? '>' : _props$rightFlipperTe,
          scrollBarWidth = props.scrollBarWidth,
          scrolling = props.scrolling,
          _props$showDots = props.showDots,
          showDots = _props$showDots === void 0 ? true : _props$showDots,
          _props$showFlipper = props.showFlipper,
          showFlipper = _props$showFlipper === void 0 ? true : _props$showFlipper,
          _props$showScrollBar = props.showScrollBar,
          showScrollBar = _props$showScrollBar === void 0 ? true : _props$showScrollBar;
      return _react.default.createElement(_react.default.Fragment, null, _react.default.createElement("div", {
        className: props.className
      }, _react.default.createElement("div", {
        className: (0, _classnames.default)(CAROUSEL_CSS + '', {
          scrolling: scrolling
        }, carousel + ''),
        style: this.createHeightStyle(props.height)
      }, !!numItems && scrollBarWidth !== '100%' && !!showFlipper && _react.default.createElement(_Flipper.default, {
        className: leftFlipper + '',
        mode: "left"
      }, _react.default.createElement("div", null, leftFlipperText)), _react.default.createElement(_FilmStrip.default, null, props.children), !!numItems && scrollBarWidth !== '100%' && !!showFlipper && _react.default.createElement(_Flipper.default, {
        className: rightFlipper + '',
        mode: "right"
      }, _react.default.createElement("div", null, rightFlipperText)), !!numItems && scrollBarWidth !== '100%' && !!showScrollBar && _react.default.createElement(_ScrollBar.default, {
        className: scrollBarBox + '',
        handlerClassName: scrollBarHandler + ''
      })), !!numItems && scrollBarWidth !== '100%' && !!showDots && _react.default.createElement(_Dots.default, {
        className: dotsBox + '',
        itemClassName: dotsItem + ''
      }, function () {
        return _react.default.createElement("div", null);
      })), props.autoCenter !== false && _react.default.createElement(_AutoCenter.default, null));
    }
  }]);

  return BasicFilm;
}(_react.default.Component);

var _default = function _default(props) {
  return _react.default.createElement(_Composer.default, {
    numItems: _react.default.Children.count(props.children)
  }, _react.default.createElement(_Context.default.Consumer, null, function (_ref2) {
    var numItems = _ref2.numItems,
        scrollBarWidth = _ref2.scrollBarWidth,
        scrolling = _ref2.scrolling;
    return _react.default.createElement(BasicFilm, _extends({}, props, {
      numItems: numItems,
      scrollBarWidth: scrollBarWidth,
      scrolling: scrolling
    }));
  }));
};

exports.default = _default;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uL3NyYy9CYXNpY0ZpbG0uanMiXSwibmFtZXMiOlsiQ0FST1VTRUxfQ1NTIiwib3ZlcmZsb3ciLCJwb3NpdGlvbiIsIkJhc2ljRmlsbSIsInByb3BzIiwiY3JlYXRlSGVpZ2h0U3R5bGUiLCJoZWlnaHQiLCJjcmVhdGVCYXNpY1N0eWxlU2V0IiwiYXV0b0hpZGUiLCJzdHlsZVNldCIsImNhcm91c2VsIiwiZG90c0JveCIsImRvdHNJdGVtIiwibGVmdEZsaXBwZXIiLCJyaWdodEZsaXBwZXIiLCJzY3JvbGxCYXJCb3giLCJzY3JvbGxCYXJIYW5kbGVyIiwibGVmdEZsaXBwZXJUZXh0IiwibnVtSXRlbXMiLCJyaWdodEZsaXBwZXJUZXh0Iiwic2Nyb2xsQmFyV2lkdGgiLCJzY3JvbGxpbmciLCJzaG93RG90cyIsInNob3dGbGlwcGVyIiwic2hvd1Njcm9sbEJhciIsImNsYXNzTmFtZSIsImNoaWxkcmVuIiwiYXV0b0NlbnRlciIsIlJlYWN0IiwiQ29tcG9uZW50IiwiQ2hpbGRyZW4iLCJjb3VudCJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBOztBQUNBOztBQUNBOztBQUVBOztBQUNBOztBQUNBOztBQUNBOztBQUNBOztBQUNBOztBQUNBOztBQUNBOztBQUNBOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBRUEsSUFBTUEsWUFBWSxHQUFHLGlCQUFJO0FBQ3ZCQyxFQUFBQSxRQUFRLEVBQUUsUUFEYTtBQUV2QkMsRUFBQUEsUUFBUSxFQUFFO0FBRmEsQ0FBSixDQUFyQjs7SUFLTUMsUzs7Ozs7QUFDSixxQkFBWUMsS0FBWixFQUFtQjtBQUFBOztBQUFBOztBQUNqQixtRkFBTUEsS0FBTjtBQUVBLFVBQUtDLGlCQUFMLEdBQXlCLHNCQUFRLFVBQUFDLE1BQU07QUFBQSxhQUFLO0FBQUVBLFFBQUFBLE1BQU0sRUFBTkE7QUFBRixPQUFMO0FBQUEsS0FBZCxDQUF6QjtBQUNBLFVBQUtDLG1CQUFMLEdBQTJCLHNCQUFRO0FBQUEsVUFBR0MsUUFBSCxRQUFH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T0FBTyxHQUFHLEVBRHhCO0FBRUUsUUFBQSxhQUFhLEVBQUdDLFFBQVEsR0FBRztBQUY3QixTQUlJO0FBQUEsZUFBTSx5Q0FBTjtBQUFBLE9BSkosQ0EzQk4sQ0FERixFQW9DSVIsS0FBSyxDQUFDdUIsVUFBTixLQUFxQixLQUFyQixJQUE4Qiw2QkFBQyxtQkFBRCxPQXBDbEMsQ0FERjtBQXdDRDs7OztFQTNFcUJDLGVBQU1DLFM7O2VBOEVmLGtCQUFBekIsS0FBSztBQUFBLFNBQ2xCLDZCQUFDLGlCQUFEO0FBQVUsSUFBQSxRQUFRLEVBQUd3QixlQUFNRSxRQUFOLENBQWVDLEtBQWYsQ0FBcUIzQixLQUFLLENBQUNzQixRQUEzQjtBQUFyQixLQUNFLDZCQUFDLGdCQUFELENBQVMsUUFBVCxRQUNJO0FBQUEsUUFBR1IsUUFBSCxTQUFHQSxRQUFIO0FBQUEsUUFBYUUsY0FBYixTQUFhQSxjQUFiO0FBQUEsUUFBNkJDLFNBQTdCLFNBQTZCQSxTQUE3QjtBQUFBLFdBQ0EsNkJBQUMsU0FBRCxlQUNPakIsS0FEUDtBQUVFLE1BQUEsUUFBUSxFQUFHYyxRQUZiO0FBR0UsTUFBQSxjQUFjLEVBQUdFLGNBSG5CO0FBSUUsTUFBQSxTQUFTLEVBQUdDO0FBSmQsT0FEQTtBQUFBLEdBREosQ0FERixDQURrQjtBQUFBLEMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBjc3MgfSBmcm9tICdnbGFtb3InO1xuaW1wb3J0IGNsYXNzTmFtZXMgZnJvbSAnY2xhc3NuYW1lcyc7XG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuXG5pbXBvcnQgQXV0b0NlbnRlciBmcm9tICcuL0F1dG9DZW50ZXInO1xuaW1wb3J0IENvbXBvc2VyIGZyb20gJy4vQ29tcG9zZXInO1xuaW1wb3J0IENvbnRleHQgZnJvbSAnLi9Db250ZXh0JztcbmltcG9ydCBjcmVhdGVCYXNpY1N0eWxlU2V0IGZyb20gJy4vY3JlYXRlQmFzaWNTdHlsZVNldCc7XG5pbXBvcnQgRG90cyBmcm9tICcuL0RvdHMnO1xuaW1wb3J0IEZpbG1TdHJpcCBmcm9tICcuL0ZpbG1TdHJpcCc7XG5pbXBvcnQgRmxpcHBlciBmcm9tICcuL0ZsaXBwZXInO1xuaW1wb3J0IG1lbW9pemUgZnJvbSAnLi9tZW1vaXplJztcbmltcG9ydCBTY3JvbGxCYXIgZnJvbSAnLi9TY3JvbGxCYXInO1xuXG5jb25zdCBDQVJPVVNFTF9DU1MgPSBjc3Moe1xuICBvdmVyZmxvdzogJ2hpZGRlbicsXG4gIHBvc2l0aW9uOiAncmVsYXRpdmUnXG59KTtcblxuY2xhc3MgQmFzaWNGaWxtIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcyk7XG5cbiAgICB0aGlzLmNyZWF0ZUhlaWdodFN0eWxlID0gbWVtb2l6ZShoZWlnaHQgPT4gKHsgaGVpZ2h0IH0pKTtcbiAgICB0aGlzLmNyZWF0ZUJhc2ljU3R5bGVTZXQgPSBtZW1vaXplKCh7IGF1dG9IaWRlIH0pID0+IGNyZWF0ZUJhc2ljU3R5bGVTZXQoeyBhdXRvSGlkZSB9KSk7XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgY29uc3QgeyBwcm9wcyB9ID0gdGhpcztcblxuICAgIGNvbnN0IHtcbiAgICAgIGNhcm91c2VsLFxuICAgICAgZG90c0JveCxcbiAgICAgIGRvdHNJdGVtLFxuICAgICAgbGVmdEZsaXBwZXIsXG4gICAgICByaWdodEZsaXBwZXIsXG4gICAgICBzY3JvbGxCYXJCb3gsXG4gICAgICBzY3JvbGxCYXJIYW5kbGVyLFxuICAgIH0gPSB7XG4gICAgICAuLi50aGlzLmNyZWF0ZUJhc2ljU3R5bGVTZXQocHJvcHMpLFxuICAgICAgLi4uKHByb3BzLnN0eWxlU2V0IHx8IHt9KVxuICAgIH07XG5cbiAgICBjb25zdCB7XG4gICAgICBsZWZ0RmxpcHBlclRleHQgPSAnPCcsXG4gICAgICBudW1JdGVtcyxcbiAgICAgIHJpZ2h0RmxpcHBlclRleHQgPSAnPicsXG4gICAgICBzY3JvbGxCYXJXaWR0aCxcbiAgICAgIHNjcm9sbGluZyxcbiAgICAgIHNob3dEb3RzID0gdHJ1ZSxcbiAgICAgIHNob3dGbGlwcGVyID0gdHJ1ZSxcbiAgICAgIHNob3dTY3JvbGxCYXIgPSB0cnVlXG4gICAgfSA9IHByb3BzO1xuXG4gICAgcmV0dXJuIChcbiAgICAgIDxSZWFjdC5GcmFnbWVudD5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9eyBwcm9wcy5jbGFzc05hbWUgfT5cbiAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICBjbGFzc05hbWU9eyBjbGFzc05hbWVzKENBUk9VU0VMX0NTUyArICcnLCB7IHNjcm9sbGluZyB9LCBjYXJvdXNlbCArICcnKSB9XG4gICAgICAgICAgICBzdHlsZT17IHRoaXMuY3JlYXRlSGVpZ2h0U3R5bGUocHJvcHMuaGVpZ2h0KSB9XG4gICAgICAgICAgPlxuICAgICAgICAgICAgeyAhIW51bUl0ZW1zICYmIHNjcm9sbEJhcldpZHRoICE9PSAnMTAwJScgJiYgISFzaG93RmxpcHBlciAmJlxuICAgICAgICAgICAgICA8RmxpcHBlciBjbGFzc05hbWU9eyBsZWZ0RmxpcHBlciArICcnIH0gbW9kZT1cImxlZnRcIj5cbiAgICAgICAgICAgICAgICA8ZGl2PnsgbGVmdEZsaXBwZXJUZXh0IH08L2Rpdj5cbiAgICAgICAgICAgICAgPC9GbGlwcGVyPlxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgPEZpbG1TdHJpcD5cbiAgICAgICAgICAgICAgeyBwcm9wcy5jaGlsZHJlbiB9XG4gICAgICAgICAgICA8L0ZpbG1TdHJpcD5cbiAgICAgICAgICAgIHsgISFudW1JdGVtcyAmJiBzY3JvbGxCYXJXaWR0aCAhPT0gJzEwMCUnICYmICEhc2hvd0ZsaXBwZXIgJiZcbiAgICAgICAgICAgICAgPEZsaXBwZXIgY2xhc3NOYW1lPXsgcmlnaHRGbGlwcGVyICsgJycgfSBtb2RlPVwicmlnaHRcIj5cbiAgICAgICAgICAgICAgICA8ZGl2PnsgcmlnaHRGbGlwcGVyVGV4dCB9PC9kaXY+XG4gICAgICAgICAgICAgIDwvRmxpcHBlcj5cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHsgISFudW1JdGVtcyAmJiBzY3JvbGxCYXJXaWR0aCAhPT0gJzEwMCUnICYmICEhc2hvd1Njcm9sbEJhciAmJlxuICAgICAgICAgICAgICA8U2Nyb2xsQmFyXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPXsgc2Nyb2xsQmFyQm94ICsgJycgfVxuICAgICAgICAgICAgICAgIGhhbmRsZXJDbGFzc05hbWU9eyBzY3JvbGxCYXJIYW5kbGVyICsgJycgfVxuICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgfVxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIHtcbiAgICAgICAgICAgICEhbnVtSXRlbXMgJiYgc2Nyb2xsQmFyV2lkdGggIT09ICcxMDAlJyAmJiAhIXNob3dEb3RzICYmXG4gICAgICAgICAgICAgIDxEb3RzXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPXsgZG90c0JveCArICcnIH1cbiAgICAgICAgICAgICAgICBpdGVtQ2xhc3NOYW1lPXsgZG90c0l0ZW0gKyAnJ31cbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIHsgKCkgPT4gPGRpdiAvPiB9XG4gICAgICAgICAgICAgIDwvRG90cz5cbiAgICAgICAgICB9XG4gICAgICAgIDwvZGl2PlxuICAgICAgICB7IHByb3BzLmF1dG9DZW50ZXIgIT09IGZhbHNlICYmIDxBdXRvQ2VudGVyIC8+IH1cbiAgICAgIDwvUmVhY3QuRnJhZ21lbnQ+XG4gICAgKTtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBwcm9wcyA9PlxuICA8Q29tcG9zZXIgbnVtSXRlbXM9eyBSZWFjdC5DaGlsZHJlbi5jb3VudChwcm9wcy5jaGlsZHJlbikgfT5cbiAgICA8Q29udGV4dC5Db25zdW1lcj5cbiAgICAgIHsgKHsgbnVtSXRlbXMsIHNjcm9sbEJhcldpZHRoLCBzY3JvbGxpbmcgfSkgPT5cbiAgICAgICAgPEJhc2ljRmlsbVxuICAgICAgICAgIHsgLi4ucHJvcHMgfVxuICAgICAgICAgIG51bUl0ZW1zPXsgbnVtSXRlbXMgfVxuICAgICAgICAgIHNjcm9sbEJhcldpZHRoPXsgc2Nyb2xsQmFyV2lkdGggfVxuICAgICAgICAgIHNjcm9sbGluZz17IHNjcm9sbGluZyB9XG4gICAgICAgIC8+XG4gICAgICB9XG4gICAgPC9Db250ZXh0LkNvbnN1bWVyPlxuICA8L0NvbXBvc2VyPlxuIl19