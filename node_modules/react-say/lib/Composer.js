"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports["default"] = void 0;

var _classCallCheck2 = _interopRequireDefault(require("@babel/runtime/helpers/classCallCheck"));

var _createClass2 = _interopRequireDefault(require("@babel/runtime/helpers/createClass"));

var _possibleConstructorReturn2 = _interopRequireDefault(require("@babel/runtime/helpers/possibleConstructorReturn"));

var _getPrototypeOf2 = _interopRequireDefault(require("@babel/runtime/helpers/getPrototypeOf"));

var _assertThisInitialized2 = _interopRequireDefault(require("@babel/runtime/helpers/assertThisInitialized"));

var _inherits2 = _interopRequireDefault(require("@babel/runtime/helpers/inherits"));

var _memoizeOne = _interopRequireDefault(require("memoize-one"));

var _propTypes = _interopRequireDefault(require("prop-types"));

var _react = _interopRequireDefault(require("react"));

var _Context = _interopRequireDefault(require("./Context"));

var _createContext = _interopRequireDefault(require("./createContext"));

var Composer =
/*#__PURE__*/
function (_React$Component) {
  (0, _inherits2["default"])(Composer, _React$Component);

  function Composer(props) {
    var _this;

    (0, _classCallCheck2["default"])(this, Composer);
    _this = (0, _possibleConstructorReturn2["default"])(this, (0, _getPrototypeOf2["default"])(Composer).call(this, props));
    _this.handleVoicesChanged = _this.handleVoicesChanged.bind((0, _assertThisInitialized2["default"])(_this));
    var voices = [];

    if (props.speechSynthesis) {
      props.speechSynthesis.addEventListener && props.speechSynthesis.addEventListener('voiceschanged', _this.handleVoicesChanged);
      voices = props.speechSynthesis.getVoices();
    }

    _this.mergeContext = (0, _memoizeOne["default"])(function (_ref, voices) {
      var cancel = _ref.cancel,
          speak = _ref.speak;
      return {
        cancel: cancel,
        speak: speak,
        voices: voices
      };
    });
    _this.state = {
      context: (0, _createContext["default"])({
        speechSynthesis: props.speechSynthesis,
        SpeechSynthesisUtterance: props.speechSynthesisUtterance
      }),
      voices: voices
    };
    return _this;
  }

  (0, _createClass2["default"])(Composer, [{
    key: "componentWillReceiveProps",
    value: function componentWillReceiveProps(nextProps) {
      var props = this.props;
      var changed = ['speechSynthesis', 'speechSynthesisUtterance'].some(function (name) {
        return nextProps[name] !== props[name];
      });

      if (changed) {
        var speechSynthesis = props.speechSynthesis;
        var nextSpeechSynthesis = nextProps.speechSynthesis;
        var nextVoices = [];

        if (speechSynthesis && speechSynthesis.removeEventListener) {
          speechSynthesis.removeEventListener('voiceschanged', this.handleVoicesChanged);
        }

        this.state.context.setPonyfill({
          speechSynthesis: nextProps.speechSynthesis,
          SpeechSynthesisUtterance: nextProps.speechSynthesisUtterance
        });

        if (nextSpeechSynthesis) {
          nextSpeechSynthesis.addEventListener && nextSpeechSynthesis.addEventListener('voiceschanged', this.handleVoicesChanged);
          nextVoices = nextSpeechSynthesis.getVoices() || [];
        }

        this.setState(function () {
          return {
            voices: nextVoices
          };
        });
      }
    }
  }, {
    key: "componentWillUnmount",
    value: function componentWillUnmount() {
      var speechSynthesis = this.props.speechSynthesis;
      speechSynthesis && speechSynthesis.removeEventListener && speechSynthesis.removeEventListener('voiceschanged', this.handleVoicesChanged);
    }
  }, {
    key: "handleVoicesChanged",
    value: function handleVoicesChanged(_ref2) {
      var target = _ref2.target;
      this.setState(function () {
        return {
          voices: target.getVoices()
        };
      });
    }
  }, {
    key: "render",
    value: function render() {
      var _this2 = this;

      var props = this.props,
          state = this.state;
      var children = props.children;
      return _react["default"].createElement(_Context["default"].Consumer, null, function (context) {
        return context ? typeof children === 'function' ? children(context) : children : _react["default"].createElement(_Context["default"].Provider, {
          value: _this2.mergeContext(state.context, state.voices)
        }, typeof children === 'function' ? _react["default"].createElement(_Context["default"].Consumer, null, function (context) {
          return children(context);
        }) : children);
      });
    }
  }]);
  return Composer;
}(_react["default"].Component);

exports["default"] = Composer;
Composer.defaultProps = {
  speechSynthesis: window.speechSynthesis || window.webkitSpeechSynthesis,
  speechSynthesisUtterance: window.SpeechSynthesisUtterance || window.webkitSpeechSynthesisUtterance
};
Composer.propTypes = {
  speechSynthesis: _propTypes["default"].any,
  speechSynthesisUtterance: _propTypes["default"].any
};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uL3NyYy9Db21wb3Nlci5qcyJdLCJuYW1lcyI6WyJDb21wb3NlciIsInByb3BzIiwiaGFuZGxlVm9pY2VzQ2hhbmdlZCIsImJpbmQiLCJ2b2ljZXMiLCJzcGVlY2hTeW50aGVzaXMiLCJhZGRFdmVudExpc3RlbmVyIiwiZ2V0Vm9pY2VzIiwibWVyZ2VDb250ZXh0IiwiY2FuY2VsIiwic3BlYWsiLCJzdGF0ZSIsImNvbnRleHQiLCJTcGVlY2hTeW50aGVzaXNVdHRlcmFuY2UiLCJzcGVlY2hTeW50aGVzaXNVdHRlcmFuY2UiLCJuZXh0UHJvcHMiLCJjaGFuZ2VkIiwic29tZSIsIm5hbWUiLCJuZXh0U3BlZWNoU3ludGhlc2lzIiwibmV4dFZvaWNlcyIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJzZXRQb255ZmlsbCIsInNldFN0YXRlIiwidGFyZ2V0IiwiY2hpbGRyZW4iLCJSZWFjdCIsIkNvbXBvbmVudCIsImRlZmF1bHRQcm9wcyIsIndpbmRvdyIsIndlYmtpdFNwZWVjaFN5bnRoZXNpcyIsIndlYmtpdFNwZWVjaFN5bnRoZXNpc1V0dGVyYW5jZSIsInByb3BUeXBlcyIsIlByb3BUeXBlcyIsImFueSJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7O0FBQ0E7O0FBQ0E7O0FBRUE7O0FBQ0E7O0lBRXFCQSxROzs7OztBQUNuQixvQkFBWUMsS0FBWixFQUFtQjtBQUFBOztBQUFBO0FBQ2pCLG9IQUFNQSxLQUFOO0FBRUEsVUFBS0MsbUJBQUwsR0FBMkIsTUFBS0EsbUJBQUwsQ0FBeUJDLElBQXpCLGdEQUEzQjtBQUVBLFFBQUlDLE1BQU0sR0FBRyxFQUFiOztBQUVBLFFBQUlILEtBQUssQ0FBQ0ksZUFBVixFQUEyQjtBQUN6QkosTUFBQUEsS0FBSyxDQUFDSSxlQUFOLENBQXNCQyxnQkFBdEIsSUFBMENMLEtBQUssQ0FBQ0ksZUFBTixDQUFzQkMsZ0JBQXRCLENBQXVDLGVBQXZDLEVBQXdELE1BQUtKLG1CQUE3RCxDQUExQztBQUNB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Q0ksVUFBQWIsT0FBTztBQUFBLGVBQUlBLE9BQU8sR0FDaEIsT0FBT2EsUUFBUCxLQUFvQixVQUFwQixHQUFpQ0EsUUFBUSxDQUFDYixPQUFELENBQXpDLEdBQXFEYSxRQURyQyxHQUdoQixnQ0FBQyxtQkFBRCxDQUFTLFFBQVQ7QUFBa0IsVUFBQSxLQUFLLEVBQUcsTUFBSSxDQUFDakIsWUFBTCxDQUFrQkcsS0FBSyxDQUFDQyxPQUF4QixFQUFpQ0QsS0FBSyxDQUFDUCxNQUF2QztBQUExQixXQUVJLE9BQU9xQixRQUFQLEtBQW9CLFVBQXBCLEdBQ0UsZ0NBQUMsbUJBQUQsQ0FBUyxRQUFULFFBQ0ksVUFBQWIsT0FBTztBQUFBLGlCQUFJYSxRQUFRLENBQUNiLE9BQUQsQ0FBWjtBQUFBLFNBRFgsQ0FERixHQUtFYSxRQVBOLENBSEs7QUFBQSxPQURYLENBREY7QUFrQkQ7OztFQTdGbUNDLGtCQUFNQyxTOzs7QUFnRzVDM0IsUUFBUSxDQUFDNEIsWUFBVCxHQUF3QjtBQUN0QnZCLEVBQUFBLGVBQWUsRUFBRXdCLE1BQU0sQ0FBQ3hCLGVBQVAsSUFBMEJ3QixNQUFNLENBQUNDLHFCQUQ1QjtBQUV0QmhCLEVBQUFBLHdCQUF3QixFQUFFZSxNQUFNLENBQUNoQix3QkFBUCxJQUFtQ2dCLE1BQU0sQ0FBQ0U7QUFGOUMsQ0FBeEI7QUFLQS9CLFFBQVEsQ0FBQ2dDLFNBQVQsR0FBcUI7QUFDbkIzQixFQUFBQSxlQUFlLEVBQUU0QixzQkFBVUMsR0FEUjtBQUVuQnBCLEVBQUFBLHdCQUF3QixFQUFFbUIsc0JBQVVDO0FBRmpCLENBQXJCIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IG1lbW9pemUgZnJvbSAnbWVtb2l6ZS1vbmUnO1xuaW1wb3J0IFByb3BUeXBlcyBmcm9tICdwcm9wLXR5cGVzJztcbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5cbmltcG9ydCBDb250ZXh0IGZyb20gJy4vQ29udGV4dCc7XG5pbXBvcnQgY3JlYXRlU3BlZWNoQ29udGV4dCBmcm9tICcuL2NyZWF0ZUNvbnRleHQnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBDb21wb3NlciBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpO1xuXG4gICAgdGhpcy5oYW5kbGVWb2ljZXNDaGFuZ2VkID0gdGhpcy5oYW5kbGVWb2ljZXNDaGFuZ2VkLmJpbmQodGhpcyk7XG5cbiAgICBsZXQgdm9pY2VzID0gW107XG5cbiAgICBpZiAocHJvcHMuc3BlZWNoU3ludGhlc2lzKSB7XG4gICAgICBwcm9wcy5zcGVlY2hTeW50aGVzaXMuYWRkRXZlbnRMaXN0ZW5lciAmJiBwcm9wcy5zcGVlY2hTeW50aGVzaXMuYWRkRXZlbnRMaXN0ZW5lcigndm9pY2VzY2hhbmdlZCcsIHRoaXMuaGFuZGxlVm9pY2VzQ2hhbmdlZCk7XG4gICAgICB2b2ljZXMgPSBwcm9wcy5zcGVlY2hTeW50aGVzaXMuZ2V0Vm9pY2VzKCk7XG4gICAgfVxuXG4gICAgdGhpcy5tZXJnZUNvbnRleHQgPSBtZW1vaXplKCh7IGNhbmNlbCwgc3BlYWsgfSwgdm9pY2VzKSA9PiAoe1xuICAgICAgY2FuY2VsLFxuICAgICAgc3BlYWssXG4gICAgICB2b2ljZXNcbiAgICB9KSk7XG5cbiAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgY29udGV4dDogY3JlYXRlU3BlZWNoQ29udGV4dCh7XG4gICAgICAgIHNwZWVjaFN5bnRoZXNpczogcHJvcHMuc3BlZWNoU3ludGhlc2lzLFxuICAgICAgICBTcGVlY2hTeW50aGVzaXNVdHRlcmFuY2U6IHByb3BzLnNwZWVjaFN5bnRoZXNpc1V0dGVyYW5jZVxuICAgICAgfSksXG4gICAgICB2b2ljZXNcbiAgICB9O1xuICB9XG5cbiAgY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyhuZXh0UHJvcHMpIHtcbiAgICBjb25zdCB7XG4gICAgICBwcm9wc1xuICAgIH0gPSB0aGlzO1xuXG4gICAgY29uc3QgY2hhbmdlZCA9IFtcbiAgICAgICdzcGVlY2hTeW50aGVzaXMnLFxuICAgICAgJ3NwZWVjaFN5bnRoZXNpc1V0dGVyYW5jZSdcbiAgICBdLnNvbWUobmFtZSA9PiBuZXh0UHJvcHNbbmFtZV0gIT09IHByb3BzW25hbWVdKTtcblxuICAgIGlmIChjaGFuZ2VkKSB7XG4gICAgICBjb25zdCB7IHNwZWVjaFN5bnRoZXNpcyB9ID0gcHJvcHM7XG4gICAgICBjb25zdCB7IHNwZWVjaFN5bnRoZXNpczogbmV4dFNwZWVjaFN5bnRoZXNpcyB9ID0gbmV4dFByb3BzO1xuICAgICAgbGV0IG5leHRWb2ljZXMgPSBbXTtcblxuICAgICAgaWYgKHNwZWVjaFN5bnRoZXNpcyAmJiBzcGVlY2hTeW50aGVzaXMucmVtb3ZlRXZlbnRMaXN0ZW5lcikge1xuICAgICAgICBzcGVlY2hTeW50aGVzaXMucmVtb3ZlRXZlbnRMaXN0ZW5lcigndm9pY2VzY2hhbmdlZCcsIHRoaXMuaGFuZGxlVm9pY2VzQ2hhbmdlZCk7XG4gICAgICB9XG5cbiAgICAgIHRoaXMuc3RhdGUuY29udGV4dC5zZXRQb255ZmlsbCh7XG4gICAgICAgIHNwZWVjaFN5bnRoZXNpczogbmV4dFByb3BzLnNwZWVjaFN5bnRoZXNpcyxcbiAgICAgICAgU3BlZWNoU3ludGhlc2lzVXR0ZXJhbmNlOiBuZXh0UHJvcHMuc3BlZWNoU3ludGhlc2lzVXR0ZXJhbmNlXG4gICAgICB9KTtcblxuICAgICAgaWYgKG5leHRTcGVlY2hTeW50aGVzaXMpIHtcbiAgICAgICAgbmV4dFNwZWVjaFN5bnRoZXNpcy5hZGRFdmVudExpc3RlbmVyICYmIG5leHRTcGVlY2hTeW50aGVzaXMuYWRkRXZlbnRMaXN0ZW5lcigndm9pY2VzY2hhbmdlZCcsIHRoaXMuaGFuZGxlVm9pY2VzQ2hhbmdlZCk7XG4gICAgICAgIG5leHRWb2ljZXMgPSBuZXh0U3BlZWNoU3ludGhlc2lzLmdldFZvaWNlcygpIHx8IFtdO1xuICAgICAgfVxuXG4gICAgICB0aGlzLnNldFN0YXRlKCgpID0+ICh7IHZvaWNlczogbmV4dFZvaWNlcyB9KSk7XG4gICAgfVxuICB9XG5cbiAgY29tcG9uZW50V2lsbFVubW91bnQoKSB7XG4gICAgY29uc3QgeyBzcGVlY2hTeW50aGVzaXMgfSA9IHRoaXMucHJvcHM7XG5cbiAgICBzcGVlY2hTeW50aGVzaXMgJiYgc3BlZWNoU3ludGhlc2lzLnJlbW92ZUV2ZW50TGlzdGVuZXIgJiYgc3BlZWNoU3ludGhlc2lzLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3ZvaWNlc2NoYW5nZWQnLCB0aGlzLmhhbmRsZVZvaWNlc0NoYW5nZWQpO1xuICB9XG5cbiAgaGFuZGxlVm9pY2VzQ2hhbmdlZCh7IHRhcmdldCB9KSB7XG4gICAgdGhpcy5zZXRTdGF0ZSgoKSA9PiAoeyB2b2ljZXM6IHRhcmdldC5nZXRWb2ljZXMoKSB9KSk7XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgY29uc3QgeyBwcm9wcywgc3RhdGUgfSA9IHRoaXM7XG4gICAgY29uc3QgeyBjaGlsZHJlbiB9ID0gcHJvcHM7XG5cbiAgICByZXR1cm4gKFxuICAgICAgPENvbnRleHQuQ29uc3VtZXI+XG4gICAgICAgIHsgY29udGV4dCA9PiBjb250ZXh0ID9cbiAgICAgICAgICAgIHR5cGVvZiBjaGlsZHJlbiA9PT0gJ2Z1bmN0aW9uJyA/IGNoaWxkcmVuKGNvbnRleHQpIDogY2hpbGRyZW5cbiAgICAgICAgICA6XG4gICAgICAgICAgICA8Q29udGV4dC5Qcm92aWRlciB2YWx1ZT17IHRoaXMubWVyZ2VDb250ZXh0KHN0YXRlLmNvbnRleHQsIHN0YXRlLnZvaWNlcykgfT5cbiAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHR5cGVvZiBjaGlsZHJlbiA9PT0gJ2Z1bmN0aW9uJyA/XG4gICAgICAgICAgICAgICAgICA8Q29udGV4dC5Db25zdW1lcj5cbiAgICAgICAgICAgICAgICAgICAgeyBjb250ZXh0ID0+IGNoaWxkcmVuKGNvbnRleHQpIH1cbiAgICAgICAgICAgICAgICAgIDwvQ29udGV4dC5Db25zdW1lcj5cbiAgICAgICAgICAgICAgICA6XG4gICAgICAgICAgICAgICAgICBjaGlsZHJlblxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICA8L0NvbnRleHQuUHJvdmlkZXI+XG4gICAgICAgIH1cbiAgICAgIDwvQ29udGV4dC5Db25zdW1lcj5cbiAgICApO1xuICB9XG59XG5cbkNvbXBvc2VyLmRlZmF1bHRQcm9wcyA9IHtcbiAgc3BlZWNoU3ludGhlc2lzOiB3aW5kb3cuc3BlZWNoU3ludGhlc2lzIHx8IHdpbmRvdy53ZWJraXRTcGVlY2hTeW50aGVzaXMsXG4gIHNwZWVjaFN5bnRoZXNpc1V0dGVyYW5jZTogd2luZG93LlNwZWVjaFN5bnRoZXNpc1V0dGVyYW5jZSB8fCB3aW5kb3cud2Via2l0U3BlZWNoU3ludGhlc2lzVXR0ZXJhbmNlXG59O1xuXG5Db21wb3Nlci5wcm9wVHlwZXMgPSB7XG4gIHNwZWVjaFN5bnRoZXNpczogUHJvcFR5cGVzLmFueSxcbiAgc3BlZWNoU3ludGhlc2lzVXR0ZXJhbmNlOiBQcm9wVHlwZXMuYW55XG59O1xuIl19