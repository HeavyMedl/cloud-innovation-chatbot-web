"use strict";

var _interopRequireWildcard = require("@babel/runtime/helpers/interopRequireWildcard");

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _extends2 = _interopRequireDefault(require("@babel/runtime/helpers/extends"));

var _objectWithoutProperties2 = _interopRequireDefault(require("@babel/runtime/helpers/objectWithoutProperties"));

var _classCallCheck2 = _interopRequireDefault(require("@babel/runtime/helpers/classCallCheck"));

var _createClass2 = _interopRequireDefault(require("@babel/runtime/helpers/createClass"));

var _possibleConstructorReturn2 = _interopRequireDefault(require("@babel/runtime/helpers/possibleConstructorReturn"));

var _getPrototypeOf2 = _interopRequireDefault(require("@babel/runtime/helpers/getPrototypeOf"));

var _inherits2 = _interopRequireDefault(require("@babel/runtime/helpers/inherits"));

var adaptiveCards = _interopRequireWildcard(require("adaptivecards"));

var _memoizeOne = _interopRequireDefault(require("memoize-one"));

var _react = _interopRequireDefault(require("react"));

var _botframeworkWebchatComponent = _interopRequireWildcard(require("botframework-webchat-component"));

var _renderMarkdown = _interopRequireDefault(require("./renderMarkdown"));

// Add additional props to <WebChat>, so it support additional features
var _default =
/*#__PURE__*/
function (_React$Component) {
  (0, _inherits2.default)(_default, _React$Component);

  function _default(props) {
    var _this;

    (0, _classCallCheck2.default)(this, _default);
    _this = (0, _possibleConstructorReturn2.default)(this, (0, _getPrototypeOf2.default)(_default).call(this, props));
    var adaptiveCardsAttachmentMiddleware = (0, _botframeworkWebchatComponent.createAdaptiveCardsAttachmentMiddleware)({
      adaptiveCards: adaptiveCards
    });
    _this.createAttachmentMiddleware = (0, _memoizeOne.default)(function (middlewareFromProps) {
      return (0, _botframeworkWebchatComponent.concatMiddleware)(middlewareFromProps, adaptiveCardsAttachmentMiddleware);
    });
    return _this;
  }

  (0, _createClass2.default)(_default, [{
    key: "render",
    value: function render() {
      var _this$props = this.props,
          attachmentMiddleware = _this$props.attachmentMiddleware,
          otherProps = (0, _objectWithoutProperties2.default)(_this$props, ["attachmentMiddleware"]);
      return _react.default.createElement(_botframeworkWebchatComponent.default, (0, _extends2.default)({
        attachmentMiddleware: this.createAttachmentMiddleware(attachmentMiddleware),
        renderMarkdown: _renderMarkdown.default
      }, otherProps));
    }
  }]);
  return _default;
}(_react.default.Component);

exports.default = _default;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uL3NyYy9GdWxsUmVhY3RXZWJDaGF0LmpzIl0sIm5hbWVzIjpbInByb3BzIiwiYWRhcHRpdmVDYXJkc0F0dGFjaG1lbnRNaWRkbGV3YXJlIiwiYWRhcHRpdmVDYXJkcyIsImNyZWF0ZUF0dGFjaG1lbnRNaWRkbGV3YXJlIiwibWlkZGxld2FyZUZyb21Qcm9wcyIsImF0dGFjaG1lbnRNaWRkbGV3YXJlIiwib3RoZXJQcm9wcyIsInJlbmRlck1hcmtkb3duIiwiUmVhY3QiLCJDb21wb25lbnQiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTs7QUFDQTs7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTs7Ozs7O0FBRUUsb0JBQVlBLEtBQVosRUFBbUI7QUFBQTs7QUFBQTtBQUNqQiw4R0FBTUEsS0FBTjtBQUVBLFFBQU1DLGlDQUFpQyxHQUFHLDJFQUF3QztBQUFFQyxNQUFBQSxhQUFhLEVBQWJBO0FBQUYsS0FBeEMsQ0FBMUM7QUFFQSxVQUFLQywwQkFBTCxHQUFrQyx5QkFBUSxVQUFBQyxtQkFBbUI7QUFBQSxhQUFJLG9EQUMvREEsbUJBRCtELEVBRS9ESCxpQ0FGK0QsQ0FBSjtBQUFBLEtBQTNCLENBQWxDO0FBTGlCO0FBU2xCOzs7OzZCQUVRO0FBQUEsd0JBQ3lDLEtBQUtELEtBRDlDO0FBQUEsVUFDQ0ssb0JBREQsZUFDQ0Esb0JBREQ7QUFBQSxVQUMwQkMsVUFEMUI7QUFHUCxhQUNFLDZCQUFDLHFDQUFEO0FBQ0UsUUFBQSxvQkFBb0IsRUFBRyxLQUFLSCwwQkFBTCxDQUFnQ0Usb0JBQWhDLENBRHpCO0FBRUUsUUFBQSxjQUFjLEVBQUdFO0FBRm5CLFNBR09ELFVBSFAsRUFERjtBQU9EOzs7RUF0QjBCRSxlQUFNQyxTIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICogYXMgYWRhcHRpdmVDYXJkcyBmcm9tICdhZGFwdGl2ZWNhcmRzJztcbmltcG9ydCBtZW1vaXplIGZyb20gJ21lbW9pemUtb25lJztcbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5cbmltcG9ydCBCYXNpY1dlYkNoYXQsIHsgY3JlYXRlQWRhcHRpdmVDYXJkc0F0dGFjaG1lbnRNaWRkbGV3YXJlLCBjb25jYXRNaWRkbGV3YXJlIH0gZnJvbSAnYm90ZnJhbWV3b3JrLXdlYmNoYXQtY29tcG9uZW50JztcblxuaW1wb3J0IHJlbmRlck1hcmtkb3duIGZyb20gJy4vcmVuZGVyTWFya2Rvd24nO1xuXG4vLyBBZGQgYWRkaXRpb25hbCBwcm9wcyB0byA8V2ViQ2hhdD4sIHNvIGl0IHN1cHBvcnQgYWRkaXRpb25hbCBmZWF0dXJlc1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKTtcblxuICAgIGNvbnN0IGFkYXB0aXZlQ2FyZHNBdHRhY2htZW50TWlkZGxld2FyZSA9IGNyZWF0ZUFkYXB0aXZlQ2FyZHNBdHRhY2htZW50TWlkZGxld2FyZSh7IGFkYXB0aXZlQ2FyZHMgfSk7XG5cbiAgICB0aGlzLmNyZWF0ZUF0dGFjaG1lbnRNaWRkbGV3YXJlID0gbWVtb2l6ZShtaWRkbGV3YXJlRnJvbVByb3BzID0+IGNvbmNhdE1pZGRsZXdhcmUoXG4gICAgICBtaWRkbGV3YXJlRnJvbVByb3BzLFxuICAgICAgYWRhcHRpdmVDYXJkc0F0dGFjaG1lbnRNaWRkbGV3YXJlXG4gICAgKSk7XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgY29uc3QgeyBhdHRhY2htZW50TWlkZGxld2FyZSwgLi4ub3RoZXJQcm9wcyB9ID0gdGhpcy5wcm9wcztcblxuICAgIHJldHVybiAoXG4gICAgICA8QmFzaWNXZWJDaGF0XG4gICAgICAgIGF0dGFjaG1lbnRNaWRkbGV3YXJlPXsgdGhpcy5jcmVhdGVBdHRhY2htZW50TWlkZGxld2FyZShhdHRhY2htZW50TWlkZGxld2FyZSkgfVxuICAgICAgICByZW5kZXJNYXJrZG93bj17IHJlbmRlck1hcmtkb3duIH1cbiAgICAgICAgeyAuLi5vdGhlclByb3BzIH1cbiAgICAgIC8+XG4gICAgKTtcbiAgfVxufVxuIl19