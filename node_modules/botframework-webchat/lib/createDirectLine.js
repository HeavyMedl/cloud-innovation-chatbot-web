"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = _default;

var _botframeworkDirectlinejs = require("botframework-directlinejs");

function _default(_ref) {
  var conversationId = _ref.conversationId,
      domain = _ref.domain,
      fetch = _ref.fetch,
      pollingInterval = _ref.pollingInterval,
      secret = _ref.secret,
      streamUrl = _ref.streamUrl,
      token = _ref.token,
      watermark = _ref.watermark,
      webSocket = _ref.webSocket;
  return new _botframeworkDirectlinejs.DirectLine({
    conversationId: conversationId,
    domain: domain,
    fetch: fetch,
    pollingInterval: pollingInterval,
    secret: secret,
    streamUrl: streamUrl,
    token: token,
    watermark: watermark,
    webSocket: webSocket,
    botAgent: 'webchat',
    createFormData: function createFormData(attachments) {
      var formData = new FormData();
      attachments.forEach(function (_ref2) {
        var contentType = _ref2.contentType,
            data = _ref2.data,
            filename = _ref2.filename,
            name = _ref2.name;
        formData.append(name, new Blob(data, {
          contentType: contentType
        }), filename);
      });
      return formData;
    }
  });
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uL3NyYy9jcmVhdGVEaXJlY3RMaW5lLmpzIl0sIm5hbWVzIjpbImNvbnZlcnNhdGlvbklkIiwiZG9tYWluIiwiZmV0Y2giLCJwb2xsaW5nSW50ZXJ2YWwiLCJzZWNyZXQiLCJzdHJlYW1VcmwiLCJ0b2tlbiIsIndhdGVybWFyayIsIndlYlNvY2tldCIsIkRpcmVjdExpbmUiLCJib3RBZ2VudCIsImNyZWF0ZUZvcm1EYXRhIiwiYXR0YWNobWVudHMiLCJmb3JtRGF0YSIsIkZvcm1EYXRhIiwiZm9yRWFjaCIsImNvbnRlbnRUeXBlIiwiZGF0YSIsImZpbGVuYW1lIiwibmFtZSIsImFwcGVuZCIsIkJsb2IiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTs7QUFFZSx3QkFBNEc7QUFBQSxNQUFqR0EsY0FBaUcsUUFBakdBLGNBQWlHO0FBQUEsTUFBakZDLE1BQWlGLFFBQWpGQSxNQUFpRjtBQUFBLE1BQXpFQyxLQUF5RSxRQUF6RUEsS0FBeUU7QUFBQSxNQUFsRUMsZUFBa0UsUUFBbEVBLGVBQWtFO0FBQUEsTUFBakRDLE1BQWlELFFBQWpEQSxNQUFpRDtBQUFBLE1BQXpDQyxTQUF5QyxRQUF6Q0EsU0FBeUM7QUFBQSxNQUE5QkMsS0FBOEIsUUFBOUJBLEtBQThCO0FBQUEsTUFBdkJDLFNBQXVCLFFBQXZCQSxTQUF1QjtBQUFBLE1BQVpDLFNBQVksUUFBWkEsU0FBWTtBQUN6SCxTQUFPLElBQUlDLG9DQUFKLENBQWU7QUFDcEJULElBQUFBLGNBQWMsRUFBZEEsY0FEb0I7QUFFcEJDLElBQUFBLE1BQU0sRUFBTkEsTUFGb0I7QUFHcEJDLElBQUFBLEtBQUssRUFBTEEsS0FIb0I7QUFJcEJDLElBQUFBLGVBQWUsRUFBZkEsZUFKb0I7QUFLcEJDLElBQUFBLE1BQU0sRUFBTkEsTUFMb0I7QUFNcEJDLElBQUFBLFNBQVMsRUFBVEEsU0FOb0I7QUFPcEJDLElBQUFBLEtBQUssRUFBTEEsS0FQb0I7QUFRcEJDLElBQUFBLFNBQVMsRUFBVEEsU0FSb0I7QUFTcEJDLElBQUFBLFNBQVMsRUFBVEEsU0FUb0I7QUFVcEJFLElBQUFBLFFBQVEsRUFBRSxTQVZVO0FBV3BCQyxJQUFBQSxjQUFjLEVBQUUsd0JBQUFDLFdBQVcsRUFBSTtBQUM3QixVQUFNQyxRQUFRLEdBQUcsSUFBSUMsUUFBSixFQUFqQjtBQUVBRixNQUFBQSxXQUFXLENBQUNHLE9BQVosQ0FBb0IsaUJBQTJDO0FBQUEsWUFBeENDLFdBQXdDLFNBQXhDQSxXQUF3QztBQUFBLFlBQTNCQyxJQUEyQixTQUEzQkEsSUFBMkI7QUFBQSxZQUFyQkMsUUFBcUIsU0FBckJBLFFBQXFCO0FBQUEsWUFBWEMsSUFBVyxTQUFYQSxJQUFXO0FBQzdETixRQUFBQSxRQUFRLENBQUNPLE1BQVQsQ0FBZ0JELElBQWhCLEVBQXNCLElBQUlFLElBQUosQ0FBU0osSUFBVCxFQUFlO0FBQUVELFVBQUFBLFdBQVcsRUFBWEE7QUFBRixTQUFmLENBQXRCLEVBQXVERSxRQUF2RDtBQUNELE9BRkQ7QUFJQSxhQUFPTCxRQUFQO0FBQ0Q7QUFuQm1CLEdBQWYsQ0FBUDtBQXFCRCIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IERpcmVjdExpbmUgfSBmcm9tICdib3RmcmFtZXdvcmstZGlyZWN0bGluZWpzJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gKHtjb252ZXJzYXRpb25JZCwgZG9tYWluLCBmZXRjaCwgcG9sbGluZ0ludGVydmFsLCBzZWNyZXQsIHN0cmVhbVVybCwgdG9rZW4sIHdhdGVybWFyaywgd2ViU29ja2V0fSkge1xuICByZXR1cm4gbmV3IERpcmVjdExpbmUoe1xuICAgIGNvbnZlcnNhdGlvbklkLFxuICAgIGRvbWFpbixcbiAgICBmZXRjaCxcbiAgICBwb2xsaW5nSW50ZXJ2YWwsXG4gICAgc2VjcmV0LFxuICAgIHN0cmVhbVVybCxcbiAgICB0b2tlbixcbiAgICB3YXRlcm1hcmssXG4gICAgd2ViU29ja2V0LFxuICAgIGJvdEFnZW50OiAnd2ViY2hhdCcsXG4gICAgY3JlYXRlRm9ybURhdGE6IGF0dGFjaG1lbnRzID0+IHtcbiAgICAgIGNvbnN0IGZvcm1EYXRhID0gbmV3IEZvcm1EYXRhKCk7XG5cbiAgICAgIGF0dGFjaG1lbnRzLmZvckVhY2goKHsgY29udGVudFR5cGUsIGRhdGEsIGZpbGVuYW1lLCBuYW1lIH0pID0+IHtcbiAgICAgICAgZm9ybURhdGEuYXBwZW5kKG5hbWUsIG5ldyBCbG9iKGRhdGEsIHsgY29udGVudFR5cGUgfSksIGZpbGVuYW1lKTtcbiAgICAgIH0pO1xuXG4gICAgICByZXR1cm4gZm9ybURhdGE7XG4gICAgfVxuICB9KTtcbn1cbiJdfQ==