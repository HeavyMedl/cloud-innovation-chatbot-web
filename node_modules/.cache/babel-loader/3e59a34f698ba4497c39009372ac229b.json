{"ast":null,"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = _default;\n\nvar _createDeferred = _interopRequireDefault(require(\"./createDeferred\"));\n\nfunction _default() {\n  var shiftDeferred;\n  var queue = [];\n\n  var push = function push(value) {\n    if (shiftDeferred) {\n      var _shiftDeferred = shiftDeferred,\n          resolve = _shiftDeferred.resolve;\n      shiftDeferred = null;\n      resolve(value);\n    } else {\n      queue.push(value);\n    }\n  };\n\n  var shift = function shift() {\n    if (queue.length) {\n      return Promise.resolve(queue.shift());\n    } else {\n      return (shiftDeferred || (shiftDeferred = (0, _createDeferred.default)())).promise;\n    }\n  };\n\n  return {\n    push: push,\n    shift: shift\n  };\n}","map":null,"metadata":{},"sourceType":"script"}