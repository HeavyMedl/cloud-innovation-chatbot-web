{"ast":null,"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _extends2 = _interopRequireDefault(require(\"@babel/runtime/helpers/extends\"));\n\nvar _regenerator = _interopRequireDefault(require(\"@babel/runtime/regenerator\"));\n\nvar _asyncToGenerator2 = _interopRequireDefault(require(\"@babel/runtime/helpers/asyncToGenerator\"));\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\n\nvar _possibleConstructorReturn2 = _interopRequireDefault(require(\"@babel/runtime/helpers/possibleConstructorReturn\"));\n\nvar _getPrototypeOf2 = _interopRequireDefault(require(\"@babel/runtime/helpers/getPrototypeOf\"));\n\nvar _assertThisInitialized2 = _interopRequireDefault(require(\"@babel/runtime/helpers/assertThisInitialized\"));\n\nvar _inherits2 = _interopRequireDefault(require(\"@babel/runtime/helpers/inherits\"));\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _Composer = _interopRequireDefault(require(\"./Composer\"));\n\nvar SayButton =\n/*#__PURE__*/\nfunction (_React$Component) {\n  (0, _inherits2[\"default\"])(SayButton, _React$Component);\n\n  function SayButton(props) {\n    var _this;\n\n    (0, _classCallCheck2[\"default\"])(this, SayButton);\n    _this = (0, _possibleConstructorReturn2[\"default\"])(this, (0, _getPrototypeOf2[\"default\"])(SayButton).call(this, props));\n    _this.handleClick = _this.handleClick.bind((0, _assertThisInitialized2[\"default\"])(_this));\n    _this.state = {\n      busy: false,\n      id: Date.now() + Math.random()\n    };\n    return _this;\n  }\n\n  (0, _createClass2[\"default\"])(SayButton, [{\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      this.props.context.cancel(this.state.id);\n    }\n  }, {\n    key: \"handleClick\",\n    value: function handleClick() {\n      var _this2 = this;\n\n      var props = this.props,\n          state = this.state;\n      props.onClick && props.onClick(event);\n      this.setState(function () {\n        return {\n          busy: true\n        };\n      },\n      /*#__PURE__*/\n      (0, _asyncToGenerator2[\"default\"])(\n      /*#__PURE__*/\n      _regenerator[\"default\"].mark(function _callee() {\n        return _regenerator[\"default\"].wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return props.context.speak({\n                  id: state.id,\n                  lang: props.lang,\n                  onBoundary: props.onBoundary,\n                  onEnd: props.onEnd,\n                  onError: props.onError,\n                  onStart: props.onStart,\n                  pitch: props.pitch,\n                  rate: props.rate,\n                  text: props.speak,\n                  voice: props.voice,\n                  volume: props.volume\n                });\n\n              case 2:\n                _this2.setState(function () {\n                  return {\n                    busy: false\n                  };\n                });\n\n              case 3:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      })));\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$props = this.props,\n          children = _this$props.children,\n          disabled = _this$props.disabled,\n          busy = this.state.busy;\n      return _react[\"default\"].createElement(\"button\", {\n        disabled: typeof disabled === 'boolean' ? disabled : busy,\n        onClick: this.handleClick\n      }, children);\n    }\n  }]);\n  return SayButton;\n}(_react[\"default\"].Component);\n\nvar SayButtonWithContext = function SayButtonWithContext(props) {\n  return _react[\"default\"].createElement(_Composer[\"default\"], {\n    speechSynthesis: props.speechSynthesis,\n    speechSynthesisUtterance: props.speechSynthesisUtterance\n  }, function (context) {\n    return _react[\"default\"].createElement(SayButton, (0, _extends2[\"default\"])({\n      context: context\n    }, props));\n  });\n};\n\nSayButtonWithContext.propTypes = {\n  lang: _propTypes[\"default\"].string,\n  onBoundary: _propTypes[\"default\"].func,\n  onEnd: _propTypes[\"default\"].func,\n  onError: _propTypes[\"default\"].func,\n  onStart: _propTypes[\"default\"].func,\n  pitch: _propTypes[\"default\"].number,\n  rate: _propTypes[\"default\"].number,\n  speak: _propTypes[\"default\"].string,\n  voice: _propTypes[\"default\"].oneOfType([_propTypes[\"default\"].any, _propTypes[\"default\"].func]),\n  volume: _propTypes[\"default\"].number\n};\nvar _default = SayButtonWithContext;\nexports[\"default\"] = _default;","map":null,"metadata":{},"sourceType":"script"}