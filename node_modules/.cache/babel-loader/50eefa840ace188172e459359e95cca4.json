{"ast":null,"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _extends2 = _interopRequireDefault(require(\"@babel/runtime/helpers/extends\"));\n\nvar _regenerator = _interopRequireDefault(require(\"@babel/runtime/regenerator\"));\n\nvar _asyncToGenerator2 = _interopRequireDefault(require(\"@babel/runtime/helpers/asyncToGenerator\"));\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\n\nvar _possibleConstructorReturn2 = _interopRequireDefault(require(\"@babel/runtime/helpers/possibleConstructorReturn\"));\n\nvar _getPrototypeOf2 = _interopRequireDefault(require(\"@babel/runtime/helpers/getPrototypeOf\"));\n\nvar _assertThisInitialized2 = _interopRequireDefault(require(\"@babel/runtime/helpers/assertThisInitialized\"));\n\nvar _inherits2 = _interopRequireDefault(require(\"@babel/runtime/helpers/inherits\"));\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _Context = _interopRequireDefault(require(\"./Context\"));\n\nvar SayPrimitive =\n/*#__PURE__*/\nfunction (_React$Component) {\n  (0, _inherits2[\"default\"])(SayPrimitive, _React$Component);\n\n  function SayPrimitive(props) {\n    var _this;\n\n    (0, _classCallCheck2[\"default\"])(this, SayPrimitive);\n    _this = (0, _possibleConstructorReturn2[\"default\"])(this, (0, _getPrototypeOf2[\"default\"])(SayPrimitive).call(this, props));\n    _this.handleBoundary = _this.handleBoundary.bind((0, _assertThisInitialized2[\"default\"])(_this));\n    _this.handleEnd = _this.handleEnd.bind((0, _assertThisInitialized2[\"default\"])(_this));\n    _this.handleError = _this.handleError.bind((0, _assertThisInitialized2[\"default\"])(_this));\n    _this.handleStart = _this.handleStart.bind((0, _assertThisInitialized2[\"default\"])(_this));\n    _this.state = {\n      id: Date.now() + Math.random()\n    };\n    return _this;\n  }\n\n  (0, _createClass2[\"default\"])(SayPrimitive, [{\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      // TODO: Should dequeue self on unmount\n      this.unmounted = true;\n      this.props.context.cancel(this.state.id)[\"catch\"](function (err) {\n        return 0;\n      });\n    }\n  }, {\n    key: \"handleBoundary\",\n    value: function handleBoundary(event) {\n      !this.unmounted && this.props.onBoundary && this.props.onBoundary(event);\n    }\n  }, {\n    key: \"handleEnd\",\n    value: function handleEnd(event) {\n      !this.unmounted && this.props.onEnd && this.props.onEnd(event);\n    }\n  }, {\n    key: \"handleError\",\n    value: function handleError(event) {\n      !this.unmounted && this.props.onError && this.props.onError(event);\n    }\n  }, {\n    key: \"handleStart\",\n    value: function handleStart(event) {\n      !this.unmounted && this.props.onStart && this.props.onStart(event);\n    }\n  }, {\n    key: \"shouldComponentUpdate\",\n    value: function shouldComponentUpdate(nextProps) {\n      return nextProps.speak !== this.props.speak;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      (0, _asyncToGenerator2[\"default\"])(\n      /*#__PURE__*/\n      _regenerator[\"default\"].mark(function _callee() {\n        var _this2$props, context, lang, pitch, rate, text, voice, volume, id;\n\n        return _regenerator[\"default\"].wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _this2$props = _this2.props, context = _this2$props.context, lang = _this2$props.lang, pitch = _this2$props.pitch, rate = _this2$props.rate, text = _this2$props.speak, voice = _this2$props.voice, volume = _this2$props.volume;\n                id = _this2.state.id;\n                context.speak({\n                  id: id,\n                  lang: lang,\n                  onBoundary: _this2.handleBoundary,\n                  onEnd: _this2.handleEnd,\n                  onError: _this2.handleError,\n                  onStart: _this2.handleStart,\n                  pitch: pitch,\n                  rate: rate,\n                  text: text,\n                  voice: voice,\n                  volume: volume\n                });\n\n              case 3:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }))()[\"catch\"](function (err) {\n        return console.error(err);\n      });\n      return false;\n    }\n  }]);\n  return SayPrimitive;\n}(_react[\"default\"].Component);\n\nvar SayPrimitiveWithContext = function SayPrimitiveWithContext(props) {\n  return _react[\"default\"].createElement(_Context[\"default\"].Consumer, null, function (context) {\n    return _react[\"default\"].createElement(SayPrimitive, (0, _extends2[\"default\"])({\n      context: context\n    }, props), props.children);\n  });\n};\n\nSayPrimitiveWithContext.propTypes = {\n  lang: _propTypes[\"default\"].string,\n  pitch: _propTypes[\"default\"].number,\n  rate: _propTypes[\"default\"].number,\n  onBoundary: _propTypes[\"default\"].func,\n  onEnd: _propTypes[\"default\"].func,\n  onError: _propTypes[\"default\"].func,\n  onStart: _propTypes[\"default\"].func,\n  speak: _propTypes[\"default\"].string,\n  voice: _propTypes[\"default\"].oneOfType([_propTypes[\"default\"].any, _propTypes[\"default\"].func]),\n  volume: _propTypes[\"default\"].number\n};\nvar _default = SayPrimitiveWithContext;\nexports[\"default\"] = _default;","map":null,"metadata":{},"sourceType":"script"}